{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class ShoppingListService {\n  constructor() {\n    this.shoppingList = JSON.parse(localStorage.getItem('items') || '[]');\n  }\n  getShoppingList() {\n    return this.shoppingList;\n  }\n  createItem(itemName) {\n    const id = this.shoppingList.length + 1;\n    const item = {\n      id,\n      name: itemName,\n      date: new Date().toLocaleString('pt-BR'),\n      bought: false\n    };\n    return item;\n  }\n  addItemToShoppingList(itemName) {\n    const item = this.createItem(itemName);\n    this.shoppingList.push(item);\n  }\n  editShoppingListItem(oldItem, editedItemName) {\n    const editedItem = {\n      id: oldItem.id,\n      name: editedItemName,\n      date: oldItem.date,\n      bought: oldItem.bought\n    };\n    const id = oldItem.id;\n    this.shoppingList.splice(Number(id) - 1, 1, editedItem);\n  }\n  buyShoppingListItem(item) {\n    const editedItem = {\n      id: item.id,\n      name: item.name,\n      date: item.date,\n      bought: !item.bought\n    };\n    const id = item.id;\n    this.shoppingList.splice(Number(id) - 1, 1, editedItem);\n  }\n  saveLocalStorage() {\n    localStorage.setItem('items', JSON.stringify(this.shoppingList));\n  }\n}\nShoppingListService.ɵfac = function ShoppingListService_Factory(t) {\n  return new (t || ShoppingListService)();\n};\nShoppingListService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ShoppingListService,\n  factory: ShoppingListService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAMA,OAAM,MAAOA,mBAAmB;EAI9BC;IACE,IAAI,CAACC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC;EACvE;EAEAC,eAAe;IACb,OAAO,IAAI,CAACL,YAAY;EAC1B;EAEAM,UAAU,CAACC,QAAgB;IACzB,MAAMC,EAAE,GAAG,IAAI,CAACR,YAAY,CAACS,MAAM,GAAG,CAAC;IACvC,MAAMC,IAAI,GAAS;MACjBF,EAAE;MACFG,IAAI,EAAEJ,QAAQ;MACdK,IAAI,EAAE,IAAIC,IAAI,EAAE,CAACC,cAAc,CAAC,OAAO,CAAC;MACxCC,MAAM,EAAE;KACT;IACD,OAAOL,IAAI;EACb;EAEAM,qBAAqB,CAACT,QAAgB;IACpC,MAAMG,IAAI,GAAG,IAAI,CAACJ,UAAU,CAACC,QAAQ,CAAC;IACtC,IAAI,CAACP,YAAY,CAACiB,IAAI,CAACP,IAAI,CAAC;EAC9B;EAEAQ,oBAAoB,CAACC,OAAa,EAAEC,cAAsB;IACxD,MAAMC,UAAU,GAAS;MACvBb,EAAE,EAAEW,OAAO,CAACX,EAAE;MACdG,IAAI,EAAES,cAAc;MACpBR,IAAI,EAAEO,OAAO,CAACP,IAAI;MAClBG,MAAM,EAAEI,OAAO,CAACJ;KACjB;IACD,MAAMP,EAAE,GAAGW,OAAO,CAACX,EAAE;IAErB,IAAI,CAACR,YAAY,CAACsB,MAAM,CAACC,MAAM,CAACf,EAAE,CAAC,GAAC,CAAC,EAAE,CAAC,EAAEa,UAAU,CAAC;EACvD;EAEAG,mBAAmB,CAACd,IAAU;IAC5B,MAAMW,UAAU,GAAS;MACvBb,EAAE,EAAEE,IAAI,CAACF,EAAE;MACXG,IAAI,EAAED,IAAI,CAACC,IAAI;MACfC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfG,MAAM,EAAE,CAACL,IAAI,CAACK;KACf;IACD,MAAMP,EAAE,GAAGE,IAAI,CAACF,EAAE;IAElB,IAAI,CAACR,YAAY,CAACsB,MAAM,CAACC,MAAM,CAACf,EAAE,CAAC,GAAC,CAAC,EAAE,CAAC,EAAEa,UAAU,CAAC;EACvD;EAEAI,gBAAgB;IACdtB,YAAY,CAACuB,OAAO,CAAC,OAAO,EAAEzB,IAAI,CAAC0B,SAAS,CAAC,IAAI,CAAC3B,YAAY,CAAC,CAAC;EAClE;;AAtDWF,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;SAAnBA,mBAAmB;EAAA8B,SAAnB9B,mBAAmB;EAAA+B,YAFlB;AAAM","names":["ShoppingListService","constructor","shoppingList","JSON","parse","localStorage","getItem","getShoppingList","createItem","itemName","id","length","item","name","date","Date","toLocaleString","bought","addItemToShoppingList","push","editShoppingListItem","oldItem","editedItemName","editedItem","splice","Number","buyShoppingListItem","saveLocalStorage","setItem","stringify","factory","providedIn"],"sourceRoot":"","sources":["/home/thomas/thomas/lista-de-compras/src/app/service/shopping-list.service.ts"],"sourcesContent":["import { Item } from 'src/app/interfaces/item';\nimport { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShoppingListService {\n\n  private shoppingList!: Item[]\n\n  constructor() {\n    this.shoppingList = JSON.parse(localStorage.getItem('items') || '[]')\n  }\n\n  getShoppingList(){\n    return this.shoppingList;\n  }\n\n  createItem(itemName: string) {\n    const id = this.shoppingList.length + 1 \n    const item: Item = {\n      id, \n      name: itemName,\n      date: new Date().toLocaleString('pt-BR'),\n      bought: false\n    }\n    return item\n  }\n\n  addItemToShoppingList(itemName: string) {\n    const item = this.createItem(itemName)\n    this.shoppingList.push(item)\n  }\n\n  editShoppingListItem(oldItem: Item, editedItemName: string) {\n    const editedItem: Item = {\n      id: oldItem.id,\n      name: editedItemName,\n      date: oldItem.date,\n      bought: oldItem.bought\n    }\n    const id = oldItem.id\n\n    this.shoppingList.splice(Number(id)-1, 1, editedItem);\n  }\n\n  buyShoppingListItem(item: Item) {\n    const editedItem: Item = {\n      id: item.id,\n      name: item.name,\n      date: item.date,\n      bought: !item.bought\n    }\n    const id = item.id\n\n    this.shoppingList.splice(Number(id)-1, 1, editedItem);\n  }\n\n  saveLocalStorage() {\n    localStorage.setItem('items', JSON.stringify(this.shoppingList))\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}